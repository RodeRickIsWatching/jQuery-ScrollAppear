/*
* jQuery ScrollAppear 0.9 
* Copyright (c) 2012 Dom Sammut
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
*
* Requires jQuery v 1.7.0 +
* Documentation at http://www.domsammut.com
*/

(function($){"use strict";var e={init:function(a){var b=$.prototype.extend({'ElementAffect':'div','PixelOffset':0,'NumberOfScrolls':100,'Timeout':1000,'DelayEffect':110,'ElementsToShow':3,'Animation':'slideDown()','AddClass':'show','TriggerType':'scroll'},a);e.settings=b;e.settings.t=$(this);e.BindEvent();e.GatherElements();return this},InternalSettings:{counter:0,ShowElements:[],BOLtimeout:false},BindEvent:function(){$(window).on(e.settings.TriggerType,function(a){a.preventDefault();e.CheckScroll()});return this},UnbindEvent:function(){$(window).off(e.settings.TriggerType);return this},ResetCounter:function(){e.InternalSettings.counter=0;return this},GatherElements:function(){this.el=$(e.settings.ElementAffect);for(this.g=0;this.g<this.el.length;this.g++){if(e.CheckClassArray(this.el[this.g])===false){e.InternalSettings.ShowElements.push(this.el[this.g])}}e.InternalSettings.ResetElements=e.InternalSettings.ShowElements.slice()},CheckCount:function(){if(e.InternalSettings.ShowElements.length>1){if(e.InternalSettings.counter<=e.settings.NumberOfScrolls){return true}}return false},CheckScroll:function(){if(e.InternalSettings.BOLtimeout===false){if(e.CheckCount()===true){if(e.GetElementPosition()===true){e.InternalSettings.BOLtimeout=true;e.ShowElements();setTimeout(function(){e.InternalSettings.BOLtimeout=false},e.settings.Timeout)}}}},ShowElements:function(){if(e.CheckCount()===true){var a=0;while(a<e.settings.ElementsToShow){$(e.InternalSettings.ShowElements[a]).hide();$(e.InternalSettings.ShowElements[a]).addClass(e.settings.AddClass);$(e.InternalSettings.ShowElements[a]).delay(a*e.settings.DelayEffect).fadeIn('50');a++}e.InternalSettings.ShowElements.splice(0,e.settings.ElementsToShow);e.InternalSettings.counter++}return this},HideElements:function(a){if(a==='all'){for(this.a=0;this.a<e.InternalSettings.ResetElements.length;this.a++){$(e.InternalSettings.ResetElements[this.a]).removeClass(e.settings.AddClass)}e.InternalSettings.counter=0;e.InternalSettings.ShowElements=[];e.InternalSettings.ResetElements=[];e.GatherElements()}return this},Destroy:function(){e.UnbindEvent();e.ResetCounter();e.settings=[];e.InternalSettings={counter:0,ShowElements:[],BOLtimeout:false};return this},GetElementPosition:function(){this.top=e.settings.t.offset().top-e.settings.PixelOffset;this.left=e.settings.t.offset().left;this.width=e.settings.t.width();this.height=e.settings.t.height();return(this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&((this.top+this.height))<=(window.pageYOffset+window.innerHeight)&&(this.left+this.width)<=(window.pageXOffset+window.innerWidth))},DomUpdate:function(){e.InternalSettings.ShowElements=[];e.InternalSettings.ResetElements=[];e.GatherElements()},CheckClassArray:function(a){e.CheckClassArray.el=$(a);if(e.settings.AddClass.indexOf(' ')>0){var b=e.settings.AddClass.split(' ');for(var c in b){if(e.CheckClassArray.el.hasClass(b[c])){return true}}}else{if(e.CheckClassArray.el.hasClass(e.settings.AddClass)){return true}}return false}};$.prototype.ScrollAppear=function(a){if(e[a]){return e[a].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof a==="object"||!a){return e.init.apply(this,arguments)}else{$.error("Method "+a+" does not exist, ensure you have spelt it correctly along with correct letter case")}};$.each(['append','appendTo','html','prepend','prependTo','after','before','insertBefore','insertAfter','remove','unwrap','wrap','wrapAll','wrapInner'],function(b,c){var d=$.prototype[c];if(d){$.prototype[c]=function(){var a=d.apply(this,arguments);$.prototype.ScrollAppear('DomUpdate');return a}}})})(jQuery);